import React, { useEffect } from "react";
import gsap from "gsap";

const Intro = () => {
  useEffect(() => {
    const paths = document.querySelectorAll(".svg-elem");

    paths.forEach((path, i) => {
      const length = path.getTotalLength();

      // Setup: hide and prepare stroke
      gsap.set(path, {
        strokeDasharray: length,
        strokeDashoffset: length,
        visibility: "visible",
        filter: "none",
      });

      const tl = gsap.timeline({ delay: 0.3 + i * 0.1 });

      // Animate stroke drawing
      tl.to(path, {
        strokeDashoffset: 0,
        duration: 2,
        ease: "power1.out",
      });

      // Optional: glow effect
      tl.to(path, {
        filter: "drop-shadow(0 0 8px white)",
        duration: 0.5,
        repeat: 1,
        yoyo: true,
        ease: "sine.inOut",
      });

      tl.to(path, {
        filter: "none",
        duration: 0.2,
        ease: "power1.out",
      });
    });
  }, []);

  return (
    <div className="min-h-screen w-screen flex justify-center items-center overflow-hidden bg-gradient-to-br from-[#0d0d0b] to-[#0f0a06] m-0 p-0">
      <div id="big">
        <div className="h-auto flex justify-center items-center p-2.5">
          <svg
            width="849"
            height="118"
            viewBox="0 0 849 118"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-full h-auto max-h-[30vh]"
          >
            {/* Add visibility: hidden inline so paths are hidden initially */}
            {[
              "M203.791 3.364V40.1872H235.353V3.364H260.572V100.364H235.353V61.6658H203.791V100.364H178.572V3.364H203.791Z",
              "M583.398 3.364L583.749 4.37083L616.489 98.3708L617.182 100.364H590.653L590.316 99.3288L585.24 83.7605H553.646L548.57 99.3288L548.233 100.364H521.962L522.655 98.3708L555.395 4.37083L555.746 3.364H583.398ZM560.417 63.0847H578.591L569.451 35.0368L560.417 63.0847Z",
              "M75.572 3.364V24.7087H51.2517V100.364H25.8923V24.7087H1.57199V3.364H75.572Z",
              "M136.398 3.364L136.749 4.37083L169.489 98.3708L170.182 100.364H143.653L143.316 99.3288L138.24 83.7605H106.646L101.57 99.3288L101.233 100.364H74.9616L75.655 98.3708L108.395 4.37083L108.746 3.364H136.398ZM113.417 63.0847H131.591L122.451 35.0368L113.417 63.0847Z",
              "M846.572 3.364V100.364H821.572V3.364H846.572Z",
              "M745.687 3.364L746.019 4.41087L767.075 70.8786L788.256 4.40892L788.588 3.364H815.171L814.491 5.34935L782.317 99.3493L781.969 100.364H752.175L751.827 99.3493L719.653 5.34935L718.973 3.364H745.687Z",
              "M668.669 2.364C677.437 2.36403 685.483 4.47202 692.776 8.69896H692.777C700.156 12.926 705.941 18.815 710.116 26.3386L710.51 27.0486C714.517 34.4095 716.507 42.6578 716.507 51.7595C716.507 59.966 714.873 67.5241 711.588 74.4109L711.589 74.4118C708.615 80.7295 704.517 86.0664 699.301 90.4089L718.24 113.924L720.206 116.364H689.585L689.135 115.74L678.081 100.379C674.879 100.983 671.742 101.288 668.669 101.288C659.898 101.288 651.809 99.1788 644.431 94.9529L644.425 94.949C637.134 90.7217 631.313 84.8373 626.969 77.3249L626.964 77.3161L626.959 77.3064C622.693 69.6821 620.572 61.155 620.572 51.7595C620.572 42.3641 622.693 33.8779 626.963 26.3386L626.969 26.3269L627.381 25.6277C631.678 18.4487 637.362 12.799 644.425 8.70384L644.431 8.69896L645.125 8.30931C652.315 4.34351 660.172 2.364 668.669 2.364ZM668.669 26.0427C661.732 26.0427 656.309 28.342 652.24 32.8718L651.871 33.3025C648.112 37.8105 646.16 43.9106 646.16 51.7595C646.16 59.7646 648.237 66.0105 652.247 70.654C656.315 75.1791 661.736 77.4753 668.669 77.4753C675.509 77.4753 680.842 75.1402 684.83 70.5242L684.835 70.5183L684.84 70.5134C688.934 65.8664 691.048 59.6655 691.048 51.7595C691.048 43.7587 688.931 37.5671 684.848 33.0163L684.839 33.0056L684.83 32.9949C680.842 28.3788 675.509 26.0428 668.669 26.0427Z",
              "M329.035 3.364L329.387 4.36595L362.487 98.366L363.19 100.364H336.401L336.061 99.3337L330.927 83.7605H298.956L293.822 99.3337L293.483 100.364H266.954L267.657 98.366L300.757 4.36595L301.109 3.364H329.035ZM305.801 63.0847H324.206L314.95 34.99L305.801 63.0847Z",
              "M454.953 3.364L455.395 4.06126L489.516 57.9392V3.364H514.572V100.364H490.193L489.751 99.6697L455.628 46.0359V100.364H430.572V3.364H454.953Z",
            ].map((d, index) => (
              <path
                key={index}
                d={d}
                stroke="white"
                strokeWidth="3"
                className="svg-elem"
                style={{ visibility: "hidden" }}
              />
            ))}
          </svg>
        </div>
      </div>
    </div>
  );
};

export default Intro;
